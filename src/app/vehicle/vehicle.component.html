<h3>Create New Team</h3>
<div class="team">

  <mat-form-field>
    <mat-label>Toppings</mat-label>
    <mat-select [formControl]="clientGroups" multiple (selectionChange)="addEmployeeControl($event)">
      <!-- <mat-select-trigger>
        {{toppings.value ? toppings.value[0] : ''}}
        <span *ngIf="toppings.value?.length > 1" class="example-additional-selection">
          (+{{toppings.value.length - 1}} {{toppings.value?.length === 2 ? 'other' : 'others'}})
        </span>
      </mat-select-trigger> -->
      <mat-option *ngFor="let group of clientGroupsItems" [value]="group.clientGroupId">{{group.clientGroupName}}</mat-option>
    </mat-select>
  </mat-form-field>

  <form [formGroup]="teamForm" (ngSubmit)="onFormSubmit()">
    <!-- <p><b>Team Name : </b> <input formControlName="teamName">
      <br /><label *ngIf="teamName?.dirty && teamName?.hasError('required')" class="error">
        Team name required. </label>
    </p> -->
    <!-- <b> Employees in Team :</b><br><br> -->
    <div formArrayName="employees">
      <div *ngFor="let emp of employees.controls; let i = index" [formGroupName]="i" class="employee">
        <p> <b>Employee {{i + 1}} : </b> </p>
        <p> Name: <input formControlName="empName"> 
          <label *ngIf="emp.get('empName')?.hasError('required')" class="error">
            Employee name required. </label>
        </p>
        
        <p> City: <input type="file" formControlName="city">
          <label *ngIf="emp.get('city')?.hasError('required')" class="error">
            City required. </label>
        </p>
        <p> <button type="button" (click)="deleteEmployeeControl(i)">Delete</button> </p>
      </div>
    </div>
    <!-- <button type="button" (click)="addEmployeeControl()">Add Employee</button><br />  -->
    <button type="button" (click)="resetEmployees()">Reset Employees</button><br />
    <button type="button" (click)="clearEmployeeControls()">clear Employees</button><br /><br />
    <button>SUBMIT</button> 
  </form>
</div> 